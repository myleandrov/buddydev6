<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chess Game | Habesha Games</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="chess.css">
</head>
<body>
    <div class="game-container">
        <header class="game-header">
            <button id="back-btn" class="icon-btn" title="Go back">
                <span class="material-icons">arrow_back</span>
            </button>

            <div class="game-code">
                <span>Code:</span>
                <strong id="game-code-display">XXXXXX</strong>
                <button id="copy-code-btn" class="icon-btn" title="Copy code">
                    <span class="material-icons">content_copy</span>
                </button>
            </div>

            <div class="game-bet">
                <span class="material-icons">attach_money</span>
                <span id="game-bet-amount">0 ETB</span>
            </div>
        </header>

        <div class="game-status" id="game-status-message">
            Game is starting...
        </div>

        <div class="players-section">
            <div class="player-card white-player">
                <div class="player-avatar" id="white-avatar">W</div>
                <div class="player-info">
                    <h3 id="white-username">White</h3>
                    <div class="player-status" id="white-status">Waiting...</div>
                    <div class="player-time" id="white-time">10:00</div>
                </div>
            </div>

            <div class="vs-circle">VS</div>

            <div class="player-card black-player">
                <div class="player-avatar" id="black-avatar">B</div>
                <div class="player-info">
                    <h3 id="black-username">Black</h3>
                    <div class="player-status" id="black-status">Waiting...</div>
                    <div class="player-time" id="black-time">10:00</div>
                </div>
            </div>
        </div>

        <div class="chess-board-container">
            <div class="chess-board" id="board"></div>
        </div>

        <div class="game-controls">
            <div class="move-history" id="move-history">
                <div class="history-empty-state">
                    <span class="material-icons">history</span>
                    <p>Move history will appear here</p>
                </div>
            </div>
            
            <div class="game-actions">
                <button id="offer-draw-btn" class="action-btn">
                    <span class="material-icons">handshake</span>
                    Offer Draw
                </button>
                <button id="resign-btn" class="action-btn danger">
                    <span class="material-icons">flag</span>
                    Resign
                </button>
            </div>
        </div>
    </div>

    <!-- Promotion Dialog -->
    <div class="modal" id="promotion-dialog">
        <div class="modal-content">
            <h3>Promote your pawn to:</h3>
            <div class="promotion-options">
                <button class="promotion-option" data-piece="q">♕</button>
                <button class="promotion-option" data-piece="r">♖</button>
                <button class="promotion-option" data-piece="b">♗</button>
                <button class="promotion-option" data-piece="n">♘</button>
            </div>
        </div>
    </div>

    <!-- Game Result Modal -->
    <div class="modal" id="game-result-modal">
        <div class="modal-content">
            <h2 id="result-title">Game Over</h2>
            <p id="result-message">You won the game!</p>
            <div class="result-details">
                <div class="result-amount win">
                    <span class="material-icons">attach_money</span>
                    <span id="result-amount">+250 ETB</span>
                </div>
            </div>
            <button id="result-close-btn" class="primary-btn">Continue</button>
        </div>
    </div>

    <!-- Waiting Overlay -->
    <div class="modal" id="waiting-overlay">
        <div class="modal-content">
            <div class="loading-spinner">
                <span class="material-icons spin">autorenew</span>
            </div>
            <p>Waiting for opponent...</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    <script src="chess.js" type="module"></script>
</body>
</html>
